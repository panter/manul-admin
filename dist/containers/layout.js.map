{"version":3,"sources":["../../src/containers/layout.js"],"names":["composer","onData","context","mainLayoutMapper","split","NotAllowedWrapper","MainLayout","depsMapper","adminConfig","adminContext","config"],"mappings":";;;;;;;;;;;AAAA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,IAAMA,8BAAW,SAAXA,QAAW,OAAcC,MAAd,EAAyB;AAAA,MAAtBC,OAAsB,QAAtBA,OAAsB;;AAC/CD,SAAO,IAAP,EAAa,EAAb;AACD,CAFM;;AAIP;;;;;AAKO,IAAME,8CAAmB,SAAnBA,gBAAmB;AAAA,SAC9B,mBAAI,2CAA2CC,KAA3C,CAAiD,GAAjD,CAAJ,EAA2DF,OAA3D,CAD8B;AAAA,CAAzB;;AAGP;;;AAGA,IAAMG,oBAAoB,yBAAQ;AAAA,SAAY;AAC5CC,gBAAYH,iBAAiBD,OAAjB;AADgC,GAAZ;AAAA,CAAR,wBAA1B;;AAIO,IAAMK,kCAAa,SAAbA,UAAa;AAAA,SAAY;AACpCL,aAAS;AAAA,aAAMA,QAAN;AAAA,KAD2B;AAEpCI,gBAAYH,iBAAiBD,QAAjB,CAFwB;AAGpCM,iBAAaN,SAAQO,YAAR,CAAqBC;AAHE,GAAZ;AAAA,CAAnB;;kBAMQ,4BACb,oCAAmBV,QAAnB,CADa,EAEb,iCAAgB,OAAhB,EAAyBK,iBAAzB,CAFa,EAGb,yBAAQE,UAAR,CAHa,EAIb,yCAAY,cAAZ,yBAJa,C","file":"layout.js","sourcesContent":["import { useDeps, composeAll, composeWithTracker } from 'mantra-core';\nimport { get } from 'lodash/fp';\nimport fromContext from '../hocs/component_from_context_or';\nimport AdminLayout from '../components/admin_layout';\nimport restrictToRoles from '../hocs/restrict_to_roles';\nimport NotAllowed from '../components/not_allowed';\n\nexport const composer = ({ context }, onData) => {\n  onData(null, {});\n};\n\n/**\n * Returns the main layout defined in the admin context.\n * Returns false if not defined.\n * @param {} context\n */\nexport const mainLayoutMapper = context =>\n  get('adminContext.components.views.MainLayout'.split('.'), context);\n\n/**\n * NotAllowed wrapper providing a main layout reference.\n */\nconst NotAllowedWrapper = useDeps(context => ({\n  MainLayout: mainLayoutMapper(context),\n}))(NotAllowed);\n\nexport const depsMapper = context => ({\n  context: () => context,\n  MainLayout: mainLayoutMapper(context),\n  adminConfig: context.adminContext.config,\n});\n\nexport default composeAll(\n  composeWithTracker(composer),\n  restrictToRoles('admin', NotAllowedWrapper),\n  useDeps(depsMapper),\n)(fromContext('views.layout', AdminLayout));\n"]}