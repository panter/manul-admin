{"version":3,"sources":["../../src/containers/users_edit.js"],"names":["userComposer","onData","context","doc","user","adminComposer","Roles","isAdmin","userIsInRole","_id","GLOBAL_GROUP","depsMapper","actions","upgradeToAdmin","admin","revokeAdmin","update","manulAdmin"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEO,IAAMA,sCAAe,SAAfA,YAAe,OAAmBC,MAAnB,EAA8B;AAAA,MAA3BC,OAA2B,QAA3BA,OAA2B;AAAA,MAAlBC,GAAkB,QAAlBA,GAAkB;;AACxDF,SAAO,IAAP,EAAa,EAAEG,MAAMD,GAAR,EAAb;AACD,CAFM;;AAIA,IAAME,wCAAgB,SAAhBA,aAAgB,QAAoBJ,MAApB,EAA+B;AAAA,MAA5BC,OAA4B,SAA5BA,OAA4B;AAAA,MAAnBE,IAAmB,SAAnBA,IAAmB;;AAAA,iBACxCF,SADwC;AAAA,MAClDI,KADkD,YAClDA,KADkD;;AAE1D,MAAIF,IAAJ,EAAU;AACR,QAAMG,UAAUD,MAAME,YAAN,CAAmBJ,KAAKK,GAAxB,EAA6B,OAA7B,EAAsCH,MAAMI,YAA5C,CAAhB;AACAT,WAAO,IAAP,EAAa,EAAEM,gBAAF,EAAb;AACA;AACD;AACDN,SAAO,IAAP,EAAa,EAAb;AACD,CARM;;AAWA,IAAMU,kCAAa,SAAbA,UAAa,CAACT,SAAD,EAAUU,OAAV;AAAA,SAAuB;AAC/CV,aAAS;AAAA,aAAMA,SAAN;AAAA,KADsC;AAE/CW,oBAAgBD,QAAQE,KAAR,CAAcD,cAFiB;AAG/CE,iBAAaH,QAAQE,KAAR,CAAcC,WAHoB;AAI/CC,YAAQJ,QAAQK,UAAR,CAAmBD;AAJoB,GAAvB;AAAA,CAAnB;;kBAOQ,4BACb,oCAAmBX,aAAnB,CADa,EAEb,oCAAmBL,YAAnB,CAFa,EAGb,yBAAQW,UAAR,CAHa,uB","file":"users_edit.js","sourcesContent":["import { useDeps, composeAll, composeWithTracker } from 'mantra-core';\nimport UsersEdit from '../components/users_edit';\n\nexport const userComposer = ({ context, doc }, onData) => {\n  onData(null, { user: doc });\n};\n\nexport const adminComposer = ({ context, user }, onData) => {\n  const { Roles } = context();\n  if (user) {\n    const isAdmin = Roles.userIsInRole(user._id, 'admin', Roles.GLOBAL_GROUP);\n    onData(null, { isAdmin });\n    return;\n  }\n  onData(null, { });\n};\n\n\nexport const depsMapper = (context, actions) => ({\n  context: () => context,\n  upgradeToAdmin: actions.admin.upgradeToAdmin,\n  revokeAdmin: actions.admin.revokeAdmin,\n  update: actions.manulAdmin.update,\n});\n\nexport default composeAll(\n  composeWithTracker(adminComposer),\n  composeWithTracker(userComposer),\n  useDeps(depsMapper),\n)(UsersEdit);\n"]}