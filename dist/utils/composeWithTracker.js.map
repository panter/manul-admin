{"version":3,"sources":["../../src/utils/composeWithTracker.js"],"names":["composeWithTracker","reactiveFn","L","E","options","onPropsChange","props","onData","context","trackerCleanup","handler","Tracker","nonreactive","autorun","stop"],"mappings":";;;;;kBAEwBA,kB;;AAFxB;;AAEe,SAASA,kBAAT,CAA4BC,UAA5B,EAAwCC,CAAxC,EAA2CC,CAA3C,EAA8CC,OAA9C,EAAuD;AACpE,MAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,MAAR,EAAgBC,OAAhB,EAA4B;AAChD,QAAIC,uBAAJ;AACA,QAAMC,UAAUC,QAAQC,WAAR,CAAoB;AAAA,aAAMD,QAAQE,OAAR,CAAgB,YAAM;AAC9DJ,yBAAiBR,WAAWK,KAAX,EAAkBC,MAAlB,EAA0BC,OAA1B,CAAjB;AACD,OAFyC,CAAN;AAAA,KAApB,CAAhB;;AAIA,WAAO,YAAM;AACX,UAAI,OAAQC,cAAR,KAA4B,UAAhC,EAA4C;AAC1CA;AACD;AACD,aAAOC,QAAQI,IAAR,EAAP;AACD,KALD;AAMD,GAZD;;AAcA,SAAO,iCAAQT,aAAR,EAAuBH,CAAvB,EAA0BC,CAA1B,EAA6BC,OAA7B,CAAP;AACD","file":"composeWithTracker.js","sourcesContent":["import { compose } from 'manul-react-komposer';\n\nexport default function composeWithTracker(reactiveFn, L, E, options) {\n  const onPropsChange = (props, onData, context) => {\n    let trackerCleanup;\n    const handler = Tracker.nonreactive(() => Tracker.autorun(() => {\n      trackerCleanup = reactiveFn(props, onData, context);\n    }));\n\n    return () => {\n      if (typeof (trackerCleanup) === 'function') {\n        trackerCleanup();\n      }\n      return handler.stop();\n    };\n  };\n\n  return compose(onPropsChange, L, E, options);\n}\n"]}