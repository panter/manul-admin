{"version":3,"sources":["../../src/utils/mongoAggregation.js"],"names":["collection","pipeline","options","Meteor","coll","rawCollection","wrapAsync","aggregate","bind","cursorToArray","cursorOrArray","toArray"],"mappings":";;;;;;kBAAe,gBAAaA,UAAb,EAAyBC,QAAzB,EAAmCC,OAAnC,EAA+C;AAAA,MAA5CC,MAA4C,QAA5CA,MAA4C;;AAC5D,MAAMC,OAAOJ,WAAWK,aAAX,EAAb;AACA,SAAOF,OAAOG,SAAP,CAAiBF,KAAKG,SAAL,CAAeC,IAAf,CAAoBJ,IAApB,CAAjB,EAA4CH,QAA5C,EAAsDC,OAAtD,CAAP;AACD,C;;AAEM,IAAMO,wCAAgB,SAAhBA,aAAgB,QAAaC,aAAb,EAA+B;AAAA,MAA5BP,MAA4B,SAA5BA,MAA4B;;AAC1D,MAAI,CAACO,aAAD,IAAkB,CAACA,cAAcC,OAArC,EAA8C;AAC5C,WAAOD,aAAP;AACD;;AAED,SAAOP,OAAOG,SAAP,CAAiBI,cAAcC,OAAd,CAAsBH,IAAtB,CAA2BE,aAA3B,CAAjB,GAAP;AAED,CAPM","file":"mongoAggregation.js","sourcesContent":["export default ({ Meteor }, collection, pipeline, options) => {\n  const coll = collection.rawCollection();\n  return Meteor.wrapAsync(coll.aggregate.bind(coll))(pipeline, options);\n};\n\nexport const cursorToArray = ({ Meteor }, cursorOrArray) => {\n  if (!cursorOrArray || !cursorOrArray.toArray) {\n    return cursorOrArray;\n  }\n \n  return Meteor.wrapAsync(cursorOrArray.toArray.bind(cursorOrArray))();\n  \n};\n"]}